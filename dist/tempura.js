!function(e){function r(e,r,t){e in l||(l[e]={name:e,declarative:!0,deps:r,declare:t,normalizedDeps:r})}function t(e){return p[e]||(p[e]={name:e,dependencies:[],exports:{},importers:[]})}function n(r){if(!r.module){var o=r.module=t(r.name),a=r.module.exports,u=r.declare.call(e,function(e,r){if(o.locked=!0,"object"==typeof e)for(var t in e)a[t]=e[t];else a[e]=r;for(var n=0,u=o.importers.length;u>n;n++){var i=o.importers[n];if(!i.locked)for(var l=0;l<i.dependencies.length;++l)i.dependencies[l]===o&&i.setters[l](a)}return o.locked=!1,r},r.name);o.setters=u.setters,o.execute=u.execute;for(var s=0,d=r.normalizedDeps.length;d>s;s++){var f,c=r.normalizedDeps[s],v=l[c],m=p[c];m?f=m.exports:v&&!v.declarative?f=v.esModule:v?(n(v),m=v.module,f=m.exports):f=i(c),m&&m.importers?(m.importers.push(o),o.dependencies.push(m)):o.dependencies.push(null),o.setters[s]&&o.setters[s](f)}}}function o(r){var t={};if(("object"==typeof r||"function"==typeof r)&&r!==e)if(d)for(var n in r)"default"!==n&&a(t,r,n);else{var o=r&&r.hasOwnProperty;for(var n in r)"default"===n||o&&!r.hasOwnProperty(n)||(t[n]=r[n])}return t.default=r,c(t,"__useDefault",{value:!0}),t}function a(e,r,t){try{var n;(n=Object.getOwnPropertyDescriptor(r,t))&&c(e,t,n)}catch(o){return e[t]=r[t],!1}}function u(r,t){var n=l[r];if(n&&!n.evaluated&&n.declarative){t.push(r);for(var o=0,a=n.normalizedDeps.length;a>o;o++){var d=n.normalizedDeps[o];-1==s.call(t,d)&&(l[d]?u(d,t):i(d))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function i(e){if(m[e])return m[e];if("@node/"==e.substr(0,6))return v(e.substr(6));var r=l[e];if(!r)throw"Module "+e+" not present.";return n(l[e]),u(e,[]),l[e]=void 0,r.declarative&&c(r.module.exports,"__esModule",{value:!0}),m[e]=r.declarative?r.module.exports:r.esModule}var l={},s=Array.prototype.indexOf||function(e){for(var r=0,t=this.length;t>r;r++)if(this[r]===e)return r;return-1},d=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(f){d=!1}var c;!function(){try{Object.defineProperty({},"a",{})&&(c=Object.defineProperty)}catch(e){c=function(e,r,t){try{e[r]=t.value||t.get.call(e)}catch(n){}}}}();var p={},v="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,m={"@empty":{}};return function(e,t,n,a){return function(u){u(function(u){for(var l=0;l<t.length;l++)(function(e,r){r&&r.__esModule?m[e]=r:m[e]=o(r)})(t[l],arguments[l]);a({register:r});var s=i(e[0]);if(e.length>1)for(var l=1;l<e.length;l++)i(e[l]);return n?s.default:s})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function($__System){this.require,this.exports,this.module;$__System.register("2",[],function(exports_1,context_1){"use strict";var PopOver,PopOverController,tempura;context_1&&context_1.id;return{setters:[],execute:function(){PopOver=function(){function PopOver(){this.controller=PopOverController,this.restrict="A",this.bindToController=!1,this.scope=!1,this.link=function(scope,element,attrs,ctrl){"true"!==attrs.popOverDisabled&&ctrl.initialize(),"true"===attrs.popOverEnableWatchers&&ctrl.addWatchers()}}return PopOver.instance=function(){return new PopOver},PopOver}(),exports_1("PopOver",PopOver),PopOverController=function(){function PopOverController($scope,$compile,$window,$document,$element,$attrs){var _this=this;this.$scope=$scope,this.$compile=$compile,this.$window=$window,this.$document=$document,this.$element=$element,this.$attrs=$attrs,this.isInitialized=!1,this.showPopOver=function(event){_this.cancelHideTimer(),_this.cancelShowItmer(),setTimeout(function(){/click/i.test(event.type)&&_this.isActive?_this.hidePopOverHandler():_this.showPopOverHandler(event)},100)},this.showPopOverHandler=function(event){_this.isActive||(_this.setPopOverPosition(event),angular.element(_this.popOverElement).addClass("active"),_this.moveCaret(),"true"!==_this.$attrs.popOverNoScroll&&_this.scrollToPopOver(),_this.isActive=!0)},this.hidePopOverHandler=function(event){angular.element(_this.popOverElement).removeClass("active"),_this.isActive=!1},this.hidePopOver=function(event){_this.cancelHideTimer();var timeout=parseInt(_this.$attrs.popOverHideTimeout||100,10);_this.hidePopOverTimer=setTimeout(function(){_this.hidePopOverHandler(event)},timeout)},this.cancelHideTimer=function(){clearTimeout(_this.hidePopOverTimer),_this.hidePopOverTimer=void 0},this.cancelShowItmer=function(){clearTimeout(_this.showPopOverTimer),_this.showPopOverTimer=void 0},this.$scope.$on("$destroy",function(){_this.isInitialized&&(_this.removeEventListeners(),_this.removeFromDocument())})}return PopOverController.prototype.initialize=function(){this.createAndAttachPopOver(),this.parseEventsToHandle(),this.addEventListeners(),this.isInitialized=!0},PopOverController.prototype.addWatchers=function(){var _this=this;this.$scope.$watch(function(){return _this.$attrs.popOverDisabled},function(isDisabled){"true"===isDisabled&&_this.isInitialized?_this.removeEventListeners():_this.isInitialized?_this.addEventListeners():_this.initialize()}),this.$scope.$watch(function(){return _this.$attrs.popOverMakeActive},function(isActive){"true"===isActive?(_this.isInitialized||_this.initialize(),_this.showPopOverHandler()):_this.hidePopOverHandler()})},PopOverController.prototype.parseEventsToHandle=function(){var triggers=this.$attrs.popOverTriggers,tagName=this.$element[0].tagName;return/click/i.test(triggers)?(this.isClick=!0,void(this.triggers=["click","touchstart"])):(triggers?this.triggers=triggers.replace(/(?!,)\W+/g,"").split(","):this.triggers=/button|input/i.test(tagName)?["focus"]:["mouseover","touchstart"],this.closers=[],this.triggers.indexOf("focus")>-1&&(this.isFocus=!0,this.closers.push("blur")),this.triggers.indexOf("mouseover")>-1&&(this.isHover=!0,this.closers.push("mouseout")),void(this.triggers.indexOf("touchstart")>-1&&(this.isHover=!0,this.closers.push("touchleave"))))},PopOverController.prototype.addEventListeners=function(){var _this=this,element=this.$element[0];return this.isClick?(element.addEventListener("click",this.showPopOver),void element.addEventListener("touchstart",this.showPopOver)):(this.triggers.forEach(function(trigger){element.addEventListener(trigger,_this.showPopOver)}),this.closers.forEach(function(closer){element.addEventListener(closer,_this.hidePopOver)}),this.popOverElement.addEventListener("mouseover",this.cancelHideTimer),void this.popOverElement.addEventListener("mouseout",this.hidePopOver))},PopOverController.prototype.removeEventListeners=function(){var _this=this,element=this.$element[0];return this.isClick?(element.removeEventListener("click",this.showPopOver),void element.removeEventListener("touchstart",this.showPopOver)):(this.triggers.forEach(function(trigger){element.removeEventListener(trigger,_this.showPopOver)}),this.closers.forEach(function(closer){element.removeEventListener(closer,_this.hidePopOver)}),this.popOverElement.removeEventListener("mouseover",this.cancelHideTimer),void this.popOverElement.removeEventListener("mouseout",this.hidePopOver))},PopOverController.prototype.getReferencePoints=function(event){var _leftPos,_topPos,elemBounds=this.$element[0].getBoundingClientRect(),bodyBounds=this.$document[0].body.getBoundingClientRect(),poBounds=this.popOverElement.getBoundingClientRect(),useMouseTarget="true"===this.$attrs.popOverUseMouseTarget;switch(useMouseTarget?(_leftPos=event.clientX-bodyBounds.left,_topPos=event.clientY-bodyBounds.top):(_leftPos=elemBounds.left-bodyBounds.left+elemBounds.width/2,_topPos=elemBounds.top-bodyBounds.top+elemBounds.height/2),this.position){case PopOverController.positions.top:_leftPos-=poBounds.width/2,_topPos-=poBounds.height+elemBounds.height/2;break;case PopOverController.positions.left:_leftPos-=poBounds.width,_topPos-=poBounds.height/2;break;case PopOverController.positions.right:_topPos-=poBounds.height/2;break;default:_leftPos-=poBounds.width/2,_topPos+=elemBounds.height/2}return{left:_leftPos,top:_topPos}},PopOverController.prototype.setPopOverPosition=function(event){this.position=this.$attrs.position||PopOverController.positions.bottom;var poBounds=this.popOverElement.getBoundingClientRect(),screenWidth=this.$document[0].documentElement.clientWidth,verticalOffset=parseInt(this.$attrs.popOverVerticalOffset,10)||0,horizontalOffset=parseInt(this.$attrs.popOverHorizontalOffset,10)||10,referencePoints=this.getReferencePoints(event);(this.position===PopOverController.positions.right&&referencePoints.left+poBounds.width>screenWidth||this.position===PopOverController.positions.left&&referencePoints.left-poBounds.width<0)&&(this.position=PopOverController.positions.bottom,referencePoints=this.getReferencePoints(event));var top="auto",left="auto",right="auto";switch(this.position){case PopOverController.positions.top:case PopOverController.positions.bottom:var _left=referencePoints.left;_left=_left<0?0:_left,top=(this.position===PopOverController.positions.top?referencePoints.top-verticalOffset:referencePoints.top+verticalOffset)+"px",_left+poBounds.width>screenWidth?(left="auto",right="0"):left=_left+"px";break;case PopOverController.positions.right:case PopOverController.positions.left:left=(this.position===PopOverController.positions.left?referencePoints.left-horizontalOffset:referencePoints.left+horizontalOffset)+"px";var _top=referencePoints.top;top=_top<0?"0":_top+"px"}var poStyle=this.popOverElement.style;poStyle.left=left,poStyle.right=right,poStyle.top=top;for(var pos in PopOverController.positions)angular.element(this.popOverElement).removeClass(pos);angular.element(this.popOverElement).addClass(this.position)},PopOverController.prototype.moveCaret=function(){var caret=this.popOverElement.querySelectorAll(".caret")[0],useMouseTarget="true"===this.$attrs.popOverUseMouseTarget,caretBounds=caret.getBoundingClientRect();if(caret){var poBounds=this.popOverElement.getBoundingClientRect(),elemBounds=this.$element[0].getBoundingClientRect();if(this.position===PopOverController.positions.top||this.position===PopOverController.positions.bottom){var _left=-1*(caretBounds.width/2),poHorizontalCenter=poBounds.left+poBounds.width/2,elemHorizontalCenter=elemBounds.left+elemBounds.width/2;_left+=poHorizontalCenter===elemHorizontalCenter||useMouseTarget?poBounds.width/2:elemBounds.left-poBounds.left+elemBounds.width/2,caret.style.left=_left+"px",this.position===PopOverController.positions.top?caret.style.bottom=-1*caretBounds.height+"px":caret.style.top=-1*caretBounds.height+"px"}else{var _top=-1*(caretBounds.height/2),poVerticalCenter=poBounds.top+poBounds.height/2,elemVerticalCenter=elemBounds.top+elemBounds.height/2;_top+=poVerticalCenter===elemVerticalCenter||useMouseTarget?poBounds.height/2:elemBounds.top-poBounds.top+elemBounds.height/2,caret.style.top=_top+"px",this.position===PopOverController.positions.right?caret.style.left=-1*caretBounds.width+"px":caret.style.right=-1*caretBounds.width+"px"}}},PopOverController.prototype.scrollToPopOver=function(){var poBounds=this.popOverElement.getBoundingClientRect(),screenHeight=this.$document[0].documentElement.clientHeight,scrollPosition=-1*this.$document[0].documentElement.getBoundingClientRect().top,scrollOffset=50,scrollTo=0;poBounds.top<scrollOffset?scrollTo=scrollPosition+poBounds.top-scrollOffset:poBounds.bottom>screenHeight&&(scrollTo=scrollPosition-(screenHeight-poBounds.bottom)),0!==scrollTo&&this.$window.scrollTo(0,scrollTo)},PopOverController.prototype.createAndAttachPopOver=function(){var poElement,content=this.$attrs.popOverContent||"",contentSrc=this.$attrs.popOverContentSrc;if(poElement=this.$compile(PopOverController.tpl.replace("##content##",content))(this.$scope),this.popOverElement=angular.element(poElement)[0],contentSrc){var src=this.$element[0].querySelectorAll(contentSrc)[0];if(src=src?src:this.$document[0].querySelectorAll(contentSrc)[0],!src)return void console.error("pop over content src does not exist");this.popOverElement.querySelectorAll(".popOver-contentInner")[0].appendChild(src)}this.$attrs.popOverCssClass&&angular.element(this.popOverElement).addClass(this.$attrs.popOverCssClass),this.$attrs.popOverMaxWidth&&(this.popOverElement.style.maxWidth=this.$attrs.popOverMaxWidth+"px"),this.$document[0].body.appendChild(this.popOverElement)},PopOverController.prototype.removeFromDocument=function(){this.$document[0].body.removeChild(this.popOverElement)},PopOverController.$inject=["$scope","$compile","$window","$document","$element","$attrs"],PopOverController.positions={bottom:"bottom",left:"left",right:"right",top:"top"},PopOverController.tpl='\n        <aside class="popOver-content">\n            <div class="popOver-contentInner">\n                ##content##\n            </div>\n            <span class="caret"></span>\n        </aside>\n    ',PopOverController}(),tempura=angular.module("tempura.popOver",[]).directive("ghsPopOver",PopOver.instance)}}}),$__System.register("1",["2"],function(exports_1,context_1){"use strict";var tempura;context_1&&context_1.id;return{setters:[function(_1){}],execute:function(){tempura=angular.module("tempura",["tempura.popOver"])}}})})(function(factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=factory():factory()});